@startuml

start
:Execute Job;
if () then (read)
    :Get metadata;
    if (Get read \naccess-token) then
    else (denied)
        stop
    endif
    :Read data;
else (write)
    if (Check access &\n sign metadata) then
    else (denied)
        stop
    endif
    :Write metadata;
    :Update catalog;
    :Write data;
    :Write signature;
    :Commit catalog;
    :Update lineage;
endif
stop

@enduml
